
<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Rate Curves &#8212; PyPricing 2023 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/sphinx-toolbox.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx_toolbox_installation.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/sphinx_toolbox_installation.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    <p class="title logo__title">PyPricing 2023 documentation</p>
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../Structured/structured_main.html">
                        Structured
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../Interest_Rate_Products/irproducts_main.html">
                        Interest Rate Products
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../Interest_Rate_Models/irmodels_main.html">
                        Interest Rate Models
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../Underlyings/underlyings_main.html">
                        Underlyings
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../MonteCarlo_engines/mc_main.html">
                        MonteCarlo engines
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../Discount_curves/discount_curves_main.html">
                        Discount curves
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../Fixed_Income/fixedincome_main.html">
                        Fixed income
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="ratecurves_main.html">
                        Rate Curves
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../Risk/risk_main.html">
                        Risk
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../Others/others_main.html">
                        Others
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../changelog.html">
                        Changelog
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../Structured/structured_main.html">
                        Structured
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../Interest_Rate_Products/irproducts_main.html">
                        Interest Rate Products
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../Interest_Rate_Models/irmodels_main.html">
                        Interest Rate Models
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../Underlyings/underlyings_main.html">
                        Underlyings
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../MonteCarlo_engines/mc_main.html">
                        MonteCarlo engines
                      </a>
                    </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../Discount_curves/discount_curves_main.html">
                        Discount curves
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../Fixed_Income/fixedincome_main.html">
                        Fixed income
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="ratecurves_main.html">
                        Rate Curves
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../Risk/risk_main.html">
                        Risk
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../Others/others_main.html">
                        Others
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../changelog.html">
                        Changelog
                      </a>
                    </li>
                
                </div>
            </div>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<h3><a href="../index.html">Table of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Structured/structured_main.html">Structured</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Interest_Rate_Products/irproducts_main.html">Interest Rate Products</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Interest_Rate_Models/irmodels_main.html">Interest Rate Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Underlyings/underlyings_main.html">Underlyings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../MonteCarlo_engines/mc_main.html">MonteCarlo engines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Discount_curves/discount_curves_main.html">Discount curves</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Fixed_Income/fixedincome_main.html">Fixed income</a></li>
<li class="toctree-l1"><a class="reference internal" href="ratecurves_main.html">Rate Curves</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Risk/risk_main.html">Risk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Others/others_main.html">Others</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>
</div>
        <div class="sidebar-primary-item">
<div id="searchbox"></div></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">Rate Curves</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="Rate-Curves">
<h1>Rate Curves<a class="headerlink" href="#Rate-Curves" title="Permalink to this heading">#</a></h1>
</section>
<section id="ForwardRate">
<h1>ForwardRate<a class="headerlink" href="#ForwardRate" title="Permalink to this heading">#</a></h1>
<section id="Initialization-attributes">
<h2>Initialization attributes<a class="headerlink" href="#Initialization-attributes" title="Permalink to this heading">#</a></h2>
<p>Following the notation of Brigo and Mercurio (BM) <em>Interest Rate Models - Theory and Practice</em>, Definition 1.4.1 or <em>Abbreviations and Notation</em>, we have:</p>
<div class="math notranslate nohighlight">
\[F(t; T, S)=\frac{1}{\text{DC}(T,S)}\left(\text{FP}^{-1}(t; T, S)-1\right)\,,\]</div>
<p>being <span class="math notranslate nohighlight">\(\text{FP}(t; T, S):=\dfrac{P(t, S)}{P(t, T)}\)</span> the forward bond.</p>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">curve</span></code> <span class="math notranslate nohighlight">\(\rightarrow\)</span> discount curve <span class="math notranslate nohighlight">\({P}\)</span>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">effective_date</span></code> <span class="math notranslate nohighlight">\(\rightarrow T\,\)</span>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">end_date</span></code> <span class="math notranslate nohighlight">\(\rightarrow S\,\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">freq</span></code> <span class="math notranslate nohighlight">\(\rightarrow\)</span> difference between <span class="math notranslate nohighlight">\(T\)</span> and <span class="math notranslate nohighlight">\(S\)</span> in months. This is <strong>actually</strong> what we need.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">calendar</span></code> <span class="math notranslate nohighlight">\(\rightarrow \text{DC}\,,\)</span></p></li>
</ul>
</section>
<section id="Methods">
<h2>Methods<a class="headerlink" href="#Methods" title="Permalink to this heading">#</a></h2>
<section id="get_forward_dates">
<h3>get_forward_dates<a class="headerlink" href="#get_forward_dates" title="Permalink to this heading">#</a></h3>
<p>For dates <span class="math notranslate nohighlight">\(\rightarrow\{t^1_j\}_{j=0}^J\)</span>, it returns:</p>
<div class="math notranslate nohighlight">
\[\text{Dictionary}\{t^1_j~:~ (t^1_j, t^1_j + \nu)\}\,,\]</div>
<p>where <span class="math notranslate nohighlight">\(\nu\)</span> is the frequency in months. That is, it returns the “tenor structure” starting at <span class="math notranslate nohighlight">\(t^1_j\)</span>.</p>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dates</span></code> <span class="math notranslate nohighlight">\(\rightarrow\{t^1_j\}_{j=0}^J\)</span> .</p></li>
</ul>
</section>
<section id="generate_rates">
<h3>generate_rates<a class="headerlink" href="#generate_rates" title="Permalink to this heading">#</a></h3>
<p>For the array of <span class="math notranslate nohighlight">\(\text{FP}\)</span> and dates <span class="math notranslate nohighlight">\(\{t^1_j\}_{j=0}^J\)</span>, forward bonds, it returns:</p>
<div class="math notranslate nohighlight">
\[F_{i,j,k,l=0} :=\frac1{\text{DC}\left(T_{l}^j, T_{l+1}^j\right)} \left(\left(\text{FP}_{i,j,k,l}\right)^{-1}-1\right)\,,\]</div>
<p>being <span class="math notranslate nohighlight">\(\{T^j_l\}_{l=0}^1\)</span> the tenor structure, see <code class="docutils literal notranslate"><span class="pre">get_forward_dates</span></code>, of the date <span class="math notranslate nohighlight">\(t^1_j\)</span>.</p>
<p>In general, we will have that</p>
<div class="math notranslate nohighlight">
\[\text{FP}_{i,j,k,l}=\text{FP}_{t^0_k}\left(t^1_j,T_{l}^j, T_{l+1}^j, \underline{x}_i\left(t^0_k, t^1_j\right)\right)\,,\]</div>
<p>with <span class="math notranslate nohighlight">\(\text{FP}_{t^0_k}\left(t^1_j,T_{l}^j, T_{l+1}^j, \underline{x}\left(t^0_k, t^1_j\right)\right)\)</span> given by <code class="docutils literal notranslate"><span class="pre">compute_future_bond</span></code>.</p>
<p><strong>Remark.</strong> Actually, it returns <span class="math notranslate nohighlight">\(\tilde{F}_{i,j,k,l}\)</span> such that <span class="math notranslate nohighlight">\(\tilde{F}_{i,0,k,l}=0\)</span> (other value is fine too) and <span class="math notranslate nohighlight">\(\left(\tilde{F}_{i,1:,k,l}\right)=\left({F}_{i,j,k,l}\right)\)</span>. This is needed for the <em>mc_engines</em> script. <strong>Why?</strong> <span class="math notranslate nohighlight">\(\diamondsuit\)</span></p>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">forward_bonds</span></code> <span class="math notranslate nohighlight">\(\rightarrow \left\{ t^1_j~:~ \text{FP}_{i,0,k,l}\right\}_{j=0}^J\)</span>, this is a dictionary for each date. Note that observation dates are implicit as the keys of the dictionary. In general,</p>
<div class="math notranslate nohighlight">
\[\left\{ t^1_j~:~ \left(\text{FP}_{t^0_k}\left(t^1_j; T^j_{l-1}, T^j_{l}, \underline{x}_i\left(t^0_k, t^1_j\right)\right)\right)_{i, 0, k, l}\right\}_{j=0}^J\,,\]</div>
<p>where <span class="math notranslate nohighlight">\(T^j_l\)</span> is given by <code class="docutils literal notranslate"><span class="pre">get_forward_dates</span></code>. <strong>Note</strong> that the <span class="math notranslate nohighlight">\(T_{-1}\)</span> is defined as in <code class="docutils literal notranslate"><span class="pre">compute_forward_bond,</span></code> although unused here. <strong>Used elsewhere?</strong></p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">discounts</span></code> <span class="math notranslate nohighlight">\(\rightarrow \left\{t^1_j~:~ \left(P_{t^0_k}\left(t^1_j; T^j_l, \underline{x}_i\left(t^0_k, t^1_j\right)\right)\right)_{i,l,k,0}\right\}_{j=0}^J\)</span>, this is a dictionary for each date. Not needed here, but this method has a common signature across the different rates.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">intervals</span></code> <span class="math notranslate nohighlight">\(\rightarrow\)</span> intervals between simulation dates. <strong>This is not needed here.</strong></p></li>
</ul>
<p><strong>Remark.</strong> Forwards and discounts are organized as dictionaries. For this case, this might seem artificial, but in general (for instance, for average swaps) creating a big array with all the possible dates, slicing according to some previously specified dictionary of indices and doing “cumproducts” might be misleading with little gain in efficiency (we need to compute bonds with meaningless dates which are never used). Furthermore, this dictionary is needed irremediably for the discounts as
they come from <code class="docutils literal notranslate"><span class="pre">compute_future_bond</span></code> in <em>ir_models.py</em> that, following broadcasting rules, need <span class="math notranslate nohighlight">\(J\)</span> to be zero to have all the discounts.</p>
<p>Nevertheless, this could be changed as it is the same idea used for each date for the fixed and floating leg and this is done with a general function, <code class="docutils literal notranslate"><span class="pre">accumulate_index</span></code> in <em>ratecurves.py</em>. The same for <code class="docutils literal notranslate"><span class="pre">MultiRate</span></code> class, in both cases with no senseless simulations. Also, meaningless bond prices could be set to 1 using the function <code class="docutils literal notranslate"><span class="pre">set_past_dates</span></code> in <em>ir_models</em>, but with no gain in efficiency. <span class="math notranslate nohighlight">\(\diamondsuit\)</span></p>
</section>
</section>
</section>
<section id="SwapRate">
<h1>SwapRate<a class="headerlink" href="#SwapRate" title="Permalink to this heading">#</a></h1>
<section id="id1">
<h2>Initialization attributes<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h2>
<p>Following the notation of Brigo and Mercurio (BM) <em>Interest Rate Models - Theory and Practice</em>, Section 1.5 or <em>Abbreviations and Notation</em>, we have:</p>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">curve</span></code> <span class="math notranslate nohighlight">\(\rightarrow\)</span> discount curve <span class="math notranslate nohighlight">\(\tilde{P}\)</span>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">effective_date</span></code> <span class="math notranslate nohighlight">\(\rightarrow\)</span> <span class="math notranslate nohighlight">\(T_\alpha^{\text{float}}=T_\alpha^{\text{fixed}}\)</span> (it is assumed that both are the same),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">end_date</span></code> <span class="math notranslate nohighlight">\(\rightarrow\)</span> <span class="math notranslate nohighlight">\(T_\beta^{\text{float}}=T_\beta^{\text{fixed}}\)</span> (it is assumed it is the same),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">floating_freq</span></code> <span class="math notranslate nohighlight">\(\rightarrow 12\cdot\left(T_l^{\text{float}}-T_{l-1}^{\text{float}}\right)\)</span> for <span class="math notranslate nohighlight">\(l\in\{\alpha^{\text{float}}+1, \ldots, \beta^{\text{float}}\}\)</span> (it is assumed that this is constant). For instance, if floating_freq=6, then, approximately (depends on the day count convention), <span class="math notranslate nohighlight">\(\left(T_l^{\text{float}}-T_{l-1}^{\text{float}}\right)=0.5\)</span>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fixed_freq</span></code> <span class="math notranslate nohighlight">\(\rightarrow 12\cdot\left(T_l^{\text{fixed}}-T_{l-1}^{\text{fixed}}\right)\)</span>, as above,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">legs_calendar</span></code> <span class="math notranslate nohighlight">\(\rightarrow [\text{DC}^{\text{float}}, \text{DC}^{\text{fixed}}]\)</span> or <span class="math notranslate nohighlight">\(\text{DC}\)</span>. In the latter case, the same calendar for each leg.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tenor_length</span></code> <span class="math notranslate nohighlight">\(\rightarrow T_\beta-T_\alpha\)</span> (in years), <code class="docutils literal notranslate"><span class="pre">tenor_length=None</span></code> by default. This is what <code class="docutils literal notranslate"><span class="pre">get_forward_dates</span></code> needs and sometimes, due to day counting conventions, <code class="docutils literal notranslate"><span class="pre">end_date-effective_date</span></code> in days might be problematic.</p></li>
</ul>
</section>
<section id="id2">
<h2>Methods<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h2>
<section id="get_pvbp">
<h3>get_pvbp<a class="headerlink" href="#get_pvbp" title="Permalink to this heading">#</a></h3>
<p>For dates <span class="math notranslate nohighlight">\(\rightarrow\{t^1_j\}_{j=0}^J\)</span>, it returns a pandas.Series of the form:</p>
<div class="math notranslate nohighlight">
\[\text{Series}\left(j, \sum_{l=\alpha^\text{fixed}+1}^{\beta^\text{fixed}}\text{DC}^\text{fixed}\left(T^\text{fixed}_{l-1}, T^\text{fixed}_{l}\right) P\left(t^1_j,T^\text{fixed}_{l}\right)\text{Ind}\left({t^1_j\le T_{l-1}^{\text{fixed}}}\right)\right)\,.\]</div>
<p>This corresponds to the annuity of the swap (or its PVBP, for Present Value of a Basis Point), see page 308 Joshi, Chapter 16 of Privault or (5.4) of Andersen and Piterbarg. It is also the denominator of (1.25) BM evaluated for the different dates.</p>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dates</span></code> <span class="math notranslate nohighlight">\(\rightarrow\{t^1_j\}_{j=0}^J\)</span> ,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">discount_curve</span></code><span class="math notranslate nohighlight">\(\rightarrow P(\cdot, \cdot)\)</span></p></li>
</ul>
</section>
<section id="get_value">
<h3>get_value<a class="headerlink" href="#get_value" title="Permalink to this heading">#</a></h3>
<p>For dates <span class="math notranslate nohighlight">\(\rightarrow\{t^1_j\}_{j=0}^J\)</span>,</p>
<div class="math notranslate nohighlight">
\[F\left(t^1_j, T^\text{float}_{l-1}, T^\text{float}_{l+1}\right) :=\frac1{\text{DC}^\text{float}\left(T^\text{float}_{l+1}, T^\text{float}_{l-1}\right)} \left(\frac{\tilde{P}\left(t^1_j, T^\text{float}_{l}\right)}{\tilde{P}\left(t^1_j, T^\text{float}_{l-1}\right)}-1\right)\text{Ind}\left({t^1_j\le T_{l-1}^{\text{float}}}\right)\]</div>
<p>If we define</p>
<div class="math notranslate nohighlight">
\[N_j=\sum_{l=\alpha^\text{float}+1}^{\beta^\text{float}}\text{DC}^\text{float}\left(T^\text{float}_{l-1}, T^\text{float}_{l}\right) P\left(t^1_j,T^\text{float}_{l}\right)F\left(t^1_j, T^\text{float}_{l-1}, T^\text{float}_{l}\right)\,,\]</div>
<div class="math notranslate nohighlight">
\[D_j=\sum_{l=\alpha^\text{fixed}+1}^{\beta^\text{fixed}}\text{DC}^\text{fixed}\left(T^\text{fixed}_{l-1}, T^\text{fixed}_{l}\right) P\left(t^1_j,T^\text{fixed}_{l}\right)\text{Ind}\left({t^1_j\le T_{l-1}^{\text{fixed}}}\right)\,,\]</div>
<p>then this method returns the array</p>
<div class="math notranslate nohighlight">
\[\left(S_{\alpha,\beta}(t_j^1)=\frac{N_j}{D_j}\right)_j\,.\]</div>
<p>This is the swap rate, see (1.25) of BM for a swap where:</p>
<ul class="simple">
<li><p>floating payment dates are not necessarily the same as the payment dates for the fixed leg,</p></li>
<li><p>the forwards are calculated using <span class="math notranslate nohighlight">\(\tilde{P}\)</span>, which is not necessarily the same as the curve used for the discounts, <span class="math notranslate nohighlight">\(P\)</span>.</p></li>
</ul>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dates</span></code> <span class="math notranslate nohighlight">\(\rightarrow\{t^1_j\}_{j=0}^J\)</span> ,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">discount_curve</span></code> <span class="math notranslate nohighlight">\(\rightarrow P(\cdot, \cdot)\)</span></p></li>
</ul>
</section>
<section id="id3">
<h3>get_forward_dates<a class="headerlink" href="#id3" title="Permalink to this heading">#</a></h3>
<p>For dates <span class="math notranslate nohighlight">\(\rightarrow\{t^1_j\}_{j=0}^J\)</span>, it returns:</p>
<div class="math notranslate nohighlight">
\[\text{Dictionary}\{t^1_j~:~ (T_l^j)_{l=0}^{L}\}\,,\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(T_l^{j,f}=t^1_j + l\cdot\nu_f\)</span>, where <span class="math notranslate nohighlight">\(\nu_f\)</span> is the frequency, <span class="math notranslate nohighlight">\(f\in\{\text{float, fixed}\}\)</span> and <span class="math notranslate nohighlight">\(l\in\{0,\ldots,L_j^f\}\)</span> with <span class="math notranslate nohighlight">\(L^f=\)</span><code class="docutils literal notranslate"><span class="pre">self.tenor_length</span></code><span class="math notranslate nohighlight">\(/(\nu_f^m/12)\)</span>, where <span class="math notranslate nohighlight">\(\nu_f^m\)</span> is the frequency in months.</p></li>
<li><p><span class="math notranslate nohighlight">\(\{T_l^j\}=\{T_l^{j,\text{float}}\}\cup\{T_l^{j,\text{fixed}}\}\)</span>, the complete tenor structure for the date <span class="math notranslate nohighlight">\(t^1_j.\)</span></p></li>
</ul>
<p>That is, it returns the tenor structure starting at <span class="math notranslate nohighlight">\(t^1_j\)</span>.</p>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dates</span></code> <span class="math notranslate nohighlight">\(\rightarrow\{t^1_j\}_{j=0}^J\)</span> .</p></li>
</ul>
</section>
<section id="id4">
<h3>generate_rates<a class="headerlink" href="#id4" title="Permalink to this heading">#</a></h3>
<p>For the array of <span class="math notranslate nohighlight">\(\text{FP}\)</span>, forward bonds,</p>
<div class="math notranslate nohighlight">
\[F_{i,j,k,l} :=\frac1{\text{DC}^\text{float}\left(T^{j,\text{float}}_{l}, T^{j,\text{float}}_{l+1}\right)} \left(\left(\text{FP}_{i,j,k,l}\right)^{-1}-1\right)\,.\]</div>
<p>Usually, it will be the case that</p>
<div class="math notranslate nohighlight">
\[\text{FP}_{i,j,k,l}=\text{FP}_{t^0_k}\left(t^1_j,T_{l}^j, T_{l+1}^j, \underline{x}_i\left(t^0_k, t^1_j\right)\right)\,,\]</div>
<p>with <span class="math notranslate nohighlight">\(\text{FP}_{t^0_k}\left(t^1_j,T_{l}, T_{l+1}, \underline{x}\left(t^0_k, t^1_j\right)\right)\)</span> given by <code class="docutils literal notranslate"><span class="pre">compute_future_bond</span></code>.</p>
<p>If we define</p>
<div class="math notranslate nohighlight">
\[S^\text{float}_{i,j,k}=\sum_{l=\alpha^\text{float}+1}^{\beta^\text{float}}\text{DC}^\text{float}\left(T^{j,\text{float}}_{l}, T^{j,\text{float}}_{l+1}\right) P_{i, t^0_k}\left(t^1_j,T^{j,\text{float}}_{l+1}\right)F_{i,j,k,l}\,,\]</div>
<div class="math notranslate nohighlight">
\[S^\text{fixed}_{i,j,k}=\sum_{l=\alpha^\text{fixed}+1}^{\beta^\text{fixed}}\text{DC}^\text{fixed}\left(T^{j,\text{fixed}}_{l}, T^{j,\text{fixed}}_{l}\right) P_{i, t^0_k}\left(t^1_j,T^{j,\text{fixed}}_{l}\right)\,,\]</div>
<p>with <span class="math notranslate nohighlight">\(S_{i,j,k}:=\dfrac{S^\text{float}_{i,j,k}}{S^\text{fixed}_{i,j,k}}\)</span>, then this method returns the array</p>
<div class="math notranslate nohighlight">
\[\left(S_{i,j,k,0}={S_{i,j,k}}, S_{i,j,k,1}=\mathcal{A}_{i,j,k}\right)_{i,j,k,l}\,,\]</div>
<p>with,</p>
<ul class="simple">
<li><p><em>Physical-settlement:</em> <span class="math notranslate nohighlight">\(\mathcal{A}(t):=A(t)\)</span>, the annuity.</p></li>
<li><p><em>Cash-settlement:</em> <span class="math notranslate nohighlight">\(\mathcal{A}(t):=a\left(S_{\alpha,\beta}(t)\right)\)</span>, see p.206 of Andersen and Piterbarg.</p></li>
</ul>
<p>This has the structure of a <code class="docutils literal notranslate"><span class="pre">MultiRate</span></code>, see below, with the second rate being the “settlement rate” <span class="math notranslate nohighlight">\(\mathcal{A}\)</span>. This rate will be the input of, for instance, a <code class="docutils literal notranslate"><span class="pre">Swaption</span></code> object.</p>
<p><strong>Remark.</strong> We need to specify the “settlement rate” although in many situations the payoff will only depend on the swap rate. A physically-settled swaption is an example of the former whereas a cash-settled swaption is an example of the latter. <span class="math notranslate nohighlight">\(\diamondsuit\)</span></p>
<p>These are the elements that constitute the swap rate, see (1.25) of BM for a swap where:</p>
<ul class="simple">
<li><p>floating payment dates are not necessarily the same as the payment dates for the fixed leg,</p></li>
<li><p>the forwards are calculated using <span class="math notranslate nohighlight">\(\tilde{P}_{i, t^0_k}\)</span>, which is not necessarily the same as the curve used for the discounts, <span class="math notranslate nohighlight">\(P\)</span>.</p></li>
</ul>
<p><strong>Remark.</strong> Actually, it returns <span class="math notranslate nohighlight">\(\tilde{S}_{i,j,k,l}\)</span> such that <span class="math notranslate nohighlight">\(\tilde{S}_{i,0,k,l}=0\)</span> (other value is fine too) and <span class="math notranslate nohighlight">\(\left(\tilde{S}_{i,1:,k,l}\right)=\left({S}_{i,j,k,l}\right)\)</span>. This is needed for the <em>mc_engines</em> script.<span class="math notranslate nohighlight">\(\diamondsuit\)</span></p>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">forward_bonds</span></code> <span class="math notranslate nohighlight">\(\rightarrow \left\{ t^1_j~:~ \text{FP}_{i,0,k,l}\right\}_{j=0}^J\)</span>. In general,</p>
<div class="math notranslate nohighlight">
\[\left\{ t^1_j~:~ \left(\text{FP}_{t^0_k}\left(t^1_j; T^j_{l-1}, T^j_{l}, \underline{x}_i\left(t^0_k, t^1_j\right)\right)\right)_{i, 0, k, l}\right\}_{j=0}^J\,,\]</div>
<p>this is a dictionary for each date,</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">discounts</span></code> <span class="math notranslate nohighlight">\(\rightarrow \left\{t^1_j~:~ \left(P_{t^0_k}\left(t^1_j; T^j_l, \underline{x}_i\left(t^0_k, t^1_j\right)\right)\right)_{i,l,k,0}\right\}_{j=0}^J\)</span>, this is a dictionary for each date,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">intervals</span></code> <span class="math notranslate nohighlight">\(\rightarrow\)</span> intervals between simulation dates. <strong>This is not needed here, needed elsewhere?</strong></p></li>
</ul>
</section>
</section>
</section>
<section id="CMSRate">
<h1>CMSRate<a class="headerlink" href="#CMSRate" title="Permalink to this heading">#</a></h1>
<section id="id5">
<h2>Initialization attributes<a class="headerlink" href="#id5" title="Permalink to this heading">#</a></h2>
<p>Following the notation of Brigo and Mercurio (BM) <em>Interest Rate Models - Theory and Practice</em>, Section 13.7 or <em>Abbreviations and Notation</em>, we have:</p>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">curve</span></code> <span class="math notranslate nohighlight">\(\rightarrow\)</span> discount curve <span class="math notranslate nohighlight">\(\tilde{P}\)</span>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tenor</span></code> <span class="math notranslate nohighlight">\(\rightarrow c\,,\)</span> as a year fraction,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">floating_freq</span></code> <span class="math notranslate nohighlight">\(\rightarrow 12\cdot\left(T_l^{\text{float}}-T_{l-1}^{\text{float}}\right)\)</span> for <span class="math notranslate nohighlight">\(l\in\{\alpha^{\text{float}}+1, \ldots, \beta^{\text{float}}\}\)</span> (it is assumed that this is constant). For instance, if floating_freq=6, then, approximately (depends on the day count convention), <span class="math notranslate nohighlight">\(\left(T_l^{\text{float}}-T_{l-1}^{\text{float}}\right)=0.5\)</span>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fixed_freq</span></code> <span class="math notranslate nohighlight">\(\rightarrow 12\cdot\left(T_l^{\text{fixed}}-T_{l-1}^{\text{fixed}}\right)\)</span>, as above,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">legs_calendar</span></code> <span class="math notranslate nohighlight">\(\rightarrow [\text{DC}^{\text{float}}, \text{DC}^{\text{fixed}}]\)</span> or <span class="math notranslate nohighlight">\(\text{DC}\)</span>. In the latter case, the same calendar for each leg.</p></li>
</ul>
</section>
<section id="id6">
<h2>Methods<a class="headerlink" href="#id6" title="Permalink to this heading">#</a></h2>
<section id="id7">
<h3>get_value<a class="headerlink" href="#id7" title="Permalink to this heading">#</a></h3>
<p>For dates <span class="math notranslate nohighlight">\(\rightarrow\{t^1_j\}_{j=0}^J\)</span>, <span class="math notranslate nohighlight">\(T_{\alpha}:=t^1_j\)</span> and <span class="math notranslate nohighlight">\(T_\beta=T_\alpha+c\)</span>. Then, as for <code class="docutils literal notranslate"><span class="pre">SwapRate</span></code> (<strong>optimal?</strong>).</p>
<div class="math notranslate nohighlight">
\[F\left(t^1_j, T^\text{float}_{l-1}, T^\text{float}_{l}\right) :=\frac1{\text{DC}^\text{float}\left(T^\text{float}_{l}, T^\text{float}_{l-1}\right)} \left(\frac{\tilde{P}\left(t^1_j, T^\text{float}_{l}\right)}{\tilde{P}\left(t^1_j, T^\text{float}_{l-1}\right)}-1\right)\text{Ind}\left({t^1_j\le T_{l-1}^{\text{float}}}\right)\]</div>
<p>If we define</p>
<div class="math notranslate nohighlight">
\[N_j=\sum_{l=\alpha^\text{float}+1}^{\beta^\text{float}}\text{DC}^\text{float}\left(T^\text{float}_{l-1}, T^\text{float}_{l}\right) P\left(t^1_j,T^\text{float}_{l}\right)F\left(t^1_j, T^\text{float}_{l-1}, T^\text{float}_{l}\right)\,,\]</div>
<div class="math notranslate nohighlight">
\[D_j=\sum_{l=\alpha^\text{fixed}+1}^{\beta^\text{fixed}}\text{DC}^\text{fixed}\left(T^\text{fixed}_{l-1}, T^\text{fixed}_{l}\right) P\left(t^1_j,T^\text{fixed}_{l}\right)\text{Ind}\left({t^1_j\le T_{l-1}^{\text{fixed}}}\right)\,,\]</div>
<p>then this method returns the array</p>
<div class="math notranslate nohighlight">
\[\left(S_{\alpha,\beta}(t_j^1)=\frac{N_j}{D_j}\right)_j\,.\]</div>
<p>This is the swap rate, see (1.25) of BM for a swap where:</p>
<ul class="simple">
<li><p>floating payment dates are not necessarily the same as the payment dates for the fixed leg,</p></li>
<li><p>the forwards are calculated using <span class="math notranslate nohighlight">\(\tilde{P}\)</span>, which is not necessarily the same as the curve used for the discounts, <span class="math notranslate nohighlight">\(P\)</span>.</p></li>
</ul>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dates</span></code> <span class="math notranslate nohighlight">\(\rightarrow\{t^1_j\}_{j=0}^J\)</span> ,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">discount_curve</span></code> <span class="math notranslate nohighlight">\(\rightarrow P(\cdot, \cdot)\)</span></p></li>
</ul>
</section>
</section>
</section>
<section id="MultiRate">
<h1>MultiRate<a class="headerlink" href="#MultiRate" title="Permalink to this heading">#</a></h1>
<section id="id8">
<h2>Initialization attributes<a class="headerlink" href="#id8" title="Permalink to this heading">#</a></h2>
<p>This is a class dealing with multiple rates, <span class="math notranslate nohighlight">\(R_0,\ldots, R_N\)</span>, in the same object.</p>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rates</span></code> <span class="math notranslate nohighlight">\(\rightarrow (R_0,\ldots, R_N)\,,\)</span> a tuple.</p></li>
</ul>
</section>
<section id="id9">
<h2>Methods<a class="headerlink" href="#id9" title="Permalink to this heading">#</a></h2>
<section id="id10">
<h3>get_forward_dates<a class="headerlink" href="#id10" title="Permalink to this heading">#</a></h3>
<p>For dates <span class="math notranslate nohighlight">\(\rightarrow\{t^1_j\}_{j=0}^J\)</span>, it returns:</p>
<div class="math notranslate nohighlight">
\[\text{Dictionary}\{t^1_j~:~ (T_l^j)_{l=0}^{L_j}\}\,,\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\{T_l^j\}=\bigcup_{n=0}^N\{T_l^{j,n}\}\)</span>, the complete tenor structure for the date <span class="math notranslate nohighlight">\(t^1_j.\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(\{T_l^{j,n}\}\)</span> is the complete tenor structure for the date <span class="math notranslate nohighlight">\(t^1_j\)</span> and <span class="math notranslate nohighlight">\(n\)</span>-th component.</p></li>
</ul>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">dates</span></code> <span class="math notranslate nohighlight">\(\rightarrow\{t^1_j\}_{j=0}^J\)</span> .</p></li>
</ul>
</section>
<section id="get_forward_indices">
<h3>get_forward_indices<a class="headerlink" href="#get_forward_indices" title="Permalink to this heading">#</a></h3>
<p>For a date <span class="math notranslate nohighlight">\(t^1_j\)</span>, it returns:</p>
<div class="math notranslate nohighlight">
\[\text{Dictionary}\{n~:~ \mathcal{L}_n\}\,,\]</div>
<p>where <span class="math notranslate nohighlight">\(\mathcal{L}_n \subset \{0, \ldots, L_j\}\)</span> is such that, as lists with sorted values,</p>
<div class="math notranslate nohighlight">
\[T^{j}_{\mathcal{L}_n[l]}=T^{j,n}_l\,,\]</div>
<p>for <span class="math notranslate nohighlight">\(l\in\{0, \ldots, L^n_j\}\)</span>.</p>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">date</span></code> <span class="math notranslate nohighlight">\(\rightarrow t^1_j\)</span>.</p></li>
</ul>
</section>
<section id="id11">
<h3>generate_rates<a class="headerlink" href="#id11" title="Permalink to this heading">#</a></h3>
<p>For a given set dates <span class="math notranslate nohighlight">\(\{t^1_j\}\)</span> and associated forward bonds and discounts, it returns the array:</p>
<div class="math notranslate nohighlight">
\[S_{i,j,k,l} = S_{i,j,k,0}^l\,,\]</div>
<p>where <span class="math notranslate nohighlight">\(S^l\)</span> is the fourth-dimensional array given by each component <code class="docutils literal notranslate"><span class="pre">generate_rates.</span></code></p>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">forward_bonds</span></code> <span class="math notranslate nohighlight">\(\rightarrow \left\{ t^1_j~:~ \text{FP}_{i,0,k,l}\right\}_{j=0}^J\)</span>. In general,</p>
<div class="math notranslate nohighlight">
\[\left\{ t^1_j~:~ \left(\text{FP}_{t^0_k}\left(t^1_j; T^j_{l-1}, T^j_{l}, \underline{x}_i\left(t^0_k, t^1_j\right)\right)\right)_{i, 0, k, l}\right\}_{j=0}^J\,,\]</div>
<p>this is a dictionary for each date,</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">discounts</span></code> <span class="math notranslate nohighlight">\(\rightarrow \left\{t^1_j~:~ \left(P_{t^0_k}\left(t^1_j; T^j_l, \underline{x}_i\left(t^0_k, t^1_j\right)\right)\right)_{i,l,k,0}\right\}_{j=0}^J\)</span>, this is a dictionary for each date,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">intervals</span></code> <span class="math notranslate nohighlight">\(\rightarrow\)</span> intervals between simulation dates. <strong>This is not needed here, needed elsewhere?</strong></p></li>
</ul>
<p><strong>Remark.</strong> Note that <span class="math notranslate nohighlight">\(T^j_l\)</span> is, as above, <span class="math notranslate nohighlight">\(\{T_l^j\}=\bigcup_{n=0}^N\{T_l^{j,n}\}\)</span>, the complete tenor structure for the date <span class="math notranslate nohighlight">\(t^1_j\)</span>, but each component only needs a particular subset of dates of the forward bonds and discounts. That’s why we need <code class="docutils literal notranslate"><span class="pre">get_forward_indices</span></code> and also the function <code class="docutils literal notranslate"><span class="pre">accumulate_index</span></code> of <em>ratecurves.py</em> for the forwards.</p>
</section>
</section>
</section>
<section id="DifferenceRate(MultiRate)">
<h1>DifferenceRate(MultiRate)<a class="headerlink" href="#DifferenceRate(MultiRate)" title="Permalink to this heading">#</a></h1>
<p>Same structure as other rates, so we omit some details. Given <span class="math notranslate nohighlight">\(R_0, R_1\)</span>, as a <code class="docutils literal notranslate"><span class="pre">MultiRate</span></code>, it returns the rate <span class="math notranslate nohighlight">\(R_1-R_0\)</span>. Other methods are inherited, not overwritten.</p>
</section>
<section id="ProductRate(MultiRate)">
<h1>ProductRate(MultiRate)<a class="headerlink" href="#ProductRate(MultiRate)" title="Permalink to this heading">#</a></h1>
<p>Same structure as other rates, so we omit some details. Given <span class="math notranslate nohighlight">\(\left( R_n\right)_{n=0}^N\)</span>, as a <code class="docutils literal notranslate"><span class="pre">MultiRate</span></code>, it returns the rate <span class="math notranslate nohighlight">\(\prod_{n=0}^N R_n\)</span>. Other methods are inherited, not overwritten.</p>
</section>
<section id="AdditionRate(MultiRate)">
<h1>AdditionRate(MultiRate)<a class="headerlink" href="#AdditionRate(MultiRate)" title="Permalink to this heading">#</a></h1>
<p>Same structure as other rates, so we omit some details. Given <span class="math notranslate nohighlight">\(\left( R_n\right)_{n=0}^N\)</span>, as a <code class="docutils literal notranslate"><span class="pre">MultiRate</span></code>, it returns the rate <span class="math notranslate nohighlight">\(\sum_{n=0}^N R_n\)</span>. Other methods are inherited, not overwritten.</p>
</section>
<section id="PathDependentRate(MultiRate):">
<h1>PathDependentRate(MultiRate):<a class="headerlink" href="#PathDependentRate(MultiRate):" title="Permalink to this heading">#</a></h1>
<p>Same structure as other rates, so we omit some details. Given a set of rates <span class="math notranslate nohighlight">\(\left( R_n\right)_{n=0}^N\)</span>, as a <code class="docutils literal notranslate"><span class="pre">MultiRate</span></code>, it returns the rate defined as:</p>
<div class="math notranslate nohighlight">
\[C_j = C_{j-1} + s_j + g_j\times \prod_{n=0}^N R_n(t^1_j)\]</div>
<p>where <span class="math notranslate nohighlight">\(s\)</span> is the spread and <span class="math notranslate nohighlight">\(g\)</span> is the gearing.</p>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rates</span></code> <span class="math notranslate nohighlight">\(\rightarrow (R_n)_{n=0}^N\,\)</span> as a <code class="docutils literal notranslate"><span class="pre">MultiRate</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gearing</span></code> <span class="math notranslate nohighlight">\(\rightarrow [g_j]_{j=0}^{J_g}\,,\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spread</span></code> <span class="math notranslate nohighlight">\(\rightarrow [s_j]_{j=0}^{J_s}\,,\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">initial_coupon</span></code> <span class="math notranslate nohighlight">\(\rightarrow C_{-1}\,,\)</span> by <em>default</em> it equals 0.</p></li>
</ul>
<p>Note that if either <code class="docutils literal notranslate"><span class="pre">gearing</span></code> or <code class="docutils literal notranslate"><span class="pre">spread</span></code> are not constant, their size must match the ones of the dictionary of forward_bonds and discounts in <code class="docutils literal notranslate"><span class="pre">generate_rates</span></code>. That is:</p>
<div class="math notranslate nohighlight">
\[J_a = J~~ \lor ~~ \min(J_a, J)=1\,.\]</div>
<p>for <span class="math notranslate nohighlight">\(a\in\{s, g\}.\)</span></p>
<p>Other methods are inherited, not overwritten.</p>
<section id="CumulativeRate(MultiRate):">
<h2>CumulativeRate(MultiRate):<a class="headerlink" href="#CumulativeRate(MultiRate):" title="Permalink to this heading">#</a></h2>
<p>Same structure as other rates, so we omit some details. Given a set of rates <span class="math notranslate nohighlight">\(\left( R_n\right)_{n=0}^N\)</span>, as a <code class="docutils literal notranslate"><span class="pre">MultiRate</span></code>, it returns the rate defined as:</p>
<div class="math notranslate nohighlight">
\[Q_j =\sum_{i=0}^{j-1} \tau_i \prod_{n=0}^N R_n(T_i)\]</div>
<p>where <span class="math notranslate nohighlight">\(\tau_i\)</span> are a given set of time intervals.</p>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rates</span></code> <span class="math notranslate nohighlight">\(\rightarrow (R_n)_{n=0}^N\,\)</span> as a <code class="docutils literal notranslate"><span class="pre">MultiRate</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dates</span></code> <span class="math notranslate nohighlight">\(\rightarrow (T_j)_j\,,\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">calendar</span></code> <span class="math notranslate nohighlight">\(\rightarrow \text{DC}\,,\)</span> thus <span class="math notranslate nohighlight">\(\tau_i = \text{DC}(T_{i-1}, T_i)\)</span>.</p></li>
</ul>
<p>Other methods are inherited, not overwritten.</p>
</section>
</section>
<section id="GSCFRate(MultiRate):">
<h1>GSCFRate(MultiRate):<a class="headerlink" href="#GSCFRate(MultiRate):" title="Permalink to this heading">#</a></h1>
<p>Same structure as other rates, so we omit some details. Given a set of rates <span class="math notranslate nohighlight">\(\left( R_n\right)_{n=0}^N\)</span>, as a <code class="docutils literal notranslate"><span class="pre">MultiRate</span></code>, it returns the rate defined as:</p>
<div class="math notranslate nohighlight">
\[C_j = \max\left(\min\left(s_j + g_j\times \prod_{n=0}^N R_n(t^1_j), c_j\right), f_j\right)\]</div>
<p>where <span class="math notranslate nohighlight">\(g\)</span> is the Gearing, <span class="math notranslate nohighlight">\(s\)</span> is the Spread, <span class="math notranslate nohighlight">\(c\)</span> is the Cap and <span class="math notranslate nohighlight">\(f\)</span> is the Floor, (GSCF).</p>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rates</span></code> <span class="math notranslate nohighlight">\(\rightarrow (R_n)_{n=0}^N\,\)</span> as a <code class="docutils literal notranslate"><span class="pre">MultiRate</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gearing</span></code> <span class="math notranslate nohighlight">\(\rightarrow [g_j]_{j=0}^{J_g}\,,\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spread</span></code> <span class="math notranslate nohighlight">\(\rightarrow [s_j]_{j=0}^{J_s}\,,\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cap</span></code> <span class="math notranslate nohighlight">\(\rightarrow [c_j]_{j=0}^{J_s}\,,\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">floor</span></code> <span class="math notranslate nohighlight">\(\rightarrow [f_j]_{j=0}^{J_s}\,,\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">initial_coupon</span></code> <span class="math notranslate nohighlight">\(\rightarrow C_{-1}\,,\)</span> by <em>default</em> it equals 0.</p></li>
</ul>
<p>Note that if either <code class="docutils literal notranslate"><span class="pre">gearing</span></code> or <code class="docutils literal notranslate"><span class="pre">spread</span></code> are not constant, their size must match the ones of the dictionary of forward_bonds and discounts in <code class="docutils literal notranslate"><span class="pre">generate_rates</span></code>. That is:</p>
<div class="math notranslate nohighlight">
\[J_a = J~~ \lor ~~ \min(J_a, J)=1\,.\]</div>
<p>for <span class="math notranslate nohighlight">\(a\in\{s, g, c, f\}.\)</span></p>
<p>Other methods are inherited, not overwritten.</p>
</section>
<section id="Trade-level-%22rates%22">
<h1>Trade-level “rates”<a class="headerlink" href="#Trade-level-%22rates%22" title="Permalink to this heading">#</a></h1>
<section id="KnockOutRate(MultiRate):">
<h2>KnockOutRate(MultiRate):<a class="headerlink" href="#KnockOutRate(MultiRate):" title="Permalink to this heading">#</a></h2>
<p>Same structure as other rates, so we omit some details. Given a set of rates <span class="math notranslate nohighlight">\(\left( R_n\right)_{n=0}^N\)</span>, as a <code class="docutils literal notranslate"><span class="pre">MultiRate</span></code>, it returns the rate defined as:</p>
<div class="math notranslate nohighlight">
\[\text{TL}_j =\prod_{i=0}^j\text{Ind}\left(\prod_{n=0}^N R_n(T_i) \land B\right)\]</div>
<p>where <span class="math notranslate nohighlight">\(\land\)</span> is either <span class="math notranslate nohighlight">\(&gt;\)</span> (for down-and-out) or <span class="math notranslate nohighlight">\(&lt;\)</span> (for up-and-out). <em>Do not confuse</em> it with <span class="math notranslate nohighlight">\(\min(\cdot,\cdot)\)</span>.</p>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rates</span></code> <span class="math notranslate nohighlight">\(\rightarrow (R_n)_{n=0}^N\,\)</span> as a <code class="docutils literal notranslate"><span class="pre">MultiRate</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">barrier</span></code> <span class="math notranslate nohighlight">\(\rightarrow B\,,\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kind</span></code> <span class="math notranslate nohighlight">\(\rightarrow\)</span> ‘up-and-out’ or ‘down-and-out’ as strings.</p></li>
</ul>
<p>Other methods are inherited, not overwritten.</p>
</section>
<section id="GlobalFloorRate(CumulativeRate):">
<h2>GlobalFloorRate(CumulativeRate):<a class="headerlink" href="#GlobalFloorRate(CumulativeRate):" title="Permalink to this heading">#</a></h2>
<p>Same structure as other rates, so we omit some details. Given a set of rates <span class="math notranslate nohighlight">\(\left( R_n\right)_{n=0}^N\)</span>, as a <code class="docutils literal notranslate"><span class="pre">MultiRate</span></code>, it returns the rate defined as:</p>
<div class="math notranslate nohighlight">
\[\Delta_j =(F- Q_j)_{+} \times \delta_{jJ}\]</div>
<p>where <span class="math notranslate nohighlight">\(Q_j\)</span> is as in CumulativeRate(MultiRate).</p>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rates</span></code> <span class="math notranslate nohighlight">\(\rightarrow (R_n)_{n=0}^N\,\)</span> as a <code class="docutils literal notranslate"><span class="pre">MultiRate</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dates</span></code> <span class="math notranslate nohighlight">\(\rightarrow (T_j)_j\,,\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">calendar</span></code> <span class="math notranslate nohighlight">\(\rightarrow \text{DC}\,,\)</span> thus <span class="math notranslate nohighlight">\(\tau_i = \text{DC}(T_{i-1}, T_i)\)</span>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">floor</span></code> <span class="math notranslate nohighlight">\(\rightarrow F\,.\)</span></p></li>
</ul>
<p>Other methods are inherited, not overwritten.</p>
</section>
</section>
<section id="Child-rates">
<h1>Child rates<a class="headerlink" href="#Child-rates" title="Permalink to this heading">#</a></h1>
<section id="TARNRate(ProductRate)-(trade-level-feature)">
<h2>TARNRate(ProductRate) (trade-level feature)<a class="headerlink" href="#TARNRate(ProductRate)-(trade-level-feature)" title="Permalink to this heading">#</a></h2>
<p>Same structure as other rates, so we omit some details. Given a rate <span class="math notranslate nohighlight">\(R\)</span>, as a <code class="docutils literal notranslate"><span class="pre">MultiRate</span></code>, it returns the rate defined as:</p>
<div class="math notranslate nohighlight">
\[C_j = R_j \times \prod_{i=0}^j\text{Ind}\left( Q_i &lt; B\right)\]</div>
<p>where, as above,</p>
<div class="math notranslate nohighlight">
\[Q_j =\sum_{i=0}^{j-1} \tau_i R(T_i)\]</div>
<p>where <span class="math notranslate nohighlight">\(\tau_i\)</span> are a given set of time intervals.</p>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rate</span></code> <span class="math notranslate nohighlight">\(\rightarrow R\,\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dates</span></code> <span class="math notranslate nohighlight">\(\rightarrow (T_j)_j\,,\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">calendar</span></code> <span class="math notranslate nohighlight">\(\rightarrow \text{DC}\,,\)</span> thus <span class="math notranslate nohighlight">\(\tau_i = \text{DC}(T_{i-1}, T_i)\)</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">barrier</span></code> <span class="math notranslate nohighlight">\(\rightarrow B\,,\)</span></p></li>
</ul>
<p>Other methods are inherited, not overwritten.</p>
</section>
<section id="GFlooredRate(AdditionRate)-(trade-level-feature)">
<h2>GFlooredRate(AdditionRate) (trade-level feature)<a class="headerlink" href="#GFlooredRate(AdditionRate)-(trade-level-feature)" title="Permalink to this heading">#</a></h2>
<p>Same structure as other rates, so we omit some details. Given a rate <span class="math notranslate nohighlight">\(R\)</span>, as a <code class="docutils literal notranslate"><span class="pre">MultiRate</span></code>, it returns the rate defined as:</p>
<div class="math notranslate nohighlight">
\[C_j = R_j + \Delta_j\]</div>
<p>where <span class="math notranslate nohighlight">\(\Delta_j\)</span> is as in GlobalFloorRate(CumulativeRate).</p>
<p><span class="math notranslate nohighlight">\(\text{Code}\)</span> - math <span class="math notranslate nohighlight">\((\TeX)\)</span> <strong>translation</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rates</span></code> <span class="math notranslate nohighlight">\(\rightarrow (R_n)_{n=0}^N\,\)</span> as a <code class="docutils literal notranslate"><span class="pre">MultiRate</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dates</span></code> <span class="math notranslate nohighlight">\(\rightarrow (T_j)_j\,,\)</span></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">calendar</span></code> <span class="math notranslate nohighlight">\(\rightarrow \text{DC}\,,\)</span> thus <span class="math notranslate nohighlight">\(\tau_i = \text{DC}(T_{i-1}, T_i)\)</span>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">floor</span></code> <span class="math notranslate nohighlight">\(\rightarrow F\,.\)</span></p></li>
</ul>
<p>Other methods are inherited, not overwritten.</p>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Rate Curves</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ForwardRate">ForwardRate</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Initialization-attributes">Initialization attributes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#Methods">Methods</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get_forward_dates">get_forward_dates</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#generate_rates">generate_rates</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#SwapRate">SwapRate</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Initialization attributes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Methods</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get_pvbp">get_pvbp</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get_value">get_value</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">get_forward_dates</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">generate_rates</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#CMSRate">CMSRate</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Initialization attributes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">Methods</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">get_value</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#MultiRate">MultiRate</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id8">Initialization attributes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id9">Methods</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id10">get_forward_dates</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#get_forward_indices">get_forward_indices</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id11">generate_rates</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#DifferenceRate(MultiRate)">DifferenceRate(MultiRate)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#ProductRate(MultiRate)">ProductRate(MultiRate)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#AdditionRate(MultiRate)">AdditionRate(MultiRate)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#PathDependentRate(MultiRate):">PathDependentRate(MultiRate):</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#CumulativeRate(MultiRate):">CumulativeRate(MultiRate):</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#GSCFRate(MultiRate):">GSCFRate(MultiRate):</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#Trade-level-%22rates%22">Trade-level “rates”</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#KnockOutRate(MultiRate):">KnockOutRate(MultiRate):</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#GlobalFloorRate(CumulativeRate):">GlobalFloorRate(CumulativeRate):</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#Child-rates">Child rates</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#TARNRate(ProductRate)-(trade-level-feature)">TARNRate(ProductRate) (trade-level feature)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#GFlooredRate(AdditionRate)-(trade-level-feature)">GFlooredRate(AdditionRate) (trade-level feature)</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2023, AFS.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.0.1.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>